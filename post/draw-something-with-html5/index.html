<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Draw something with html5 &#8211; Burn after coding</title>
<meta name="description" content="Burn after coding">
<meta name="keywords" content="Html5, JavaScript">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://burnaftercoding.com/images/abstract-11.jpg">

<meta name="twitter:title" content="Draw something with html5">
<meta name="twitter:description" content="Burn after coding">
<meta name="twitter:creator" content="@anthyme">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Draw something with html5">
<meta property="og:description" content="Burn after coding">
<meta property="og:url" content="http://burnaftercoding.com/post/draw-something-with-html5/">
<meta property="og:site_name" content="Burn after coding">





<link rel="canonical" href="http://burnaftercoding.com/post/draw-something-with-html5/">
<link href="http://burnaftercoding.com/feed.xml" type="application/atom+xml" rel="alternate" title="Burn after coding Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://burnaftercoding.com/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://burnaftercoding.com/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://burnaftercoding.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://burnaftercoding.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://burnaftercoding.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://burnaftercoding.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://burnaftercoding.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://burnaftercoding.com/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://burnaftercoding.com">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://burnaftercoding.com/images/avatar.jpg" alt="Anthyme Caillard photo" class="author-photo">
					<h4>Anthyme Caillard</h4>
					<p>Software craftsman Dotnet addict &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Agile fan</p>
				</li>
				<li><a href="http://burnaftercoding.com/about/">Learn More</a></li>
				
				<li>
					<a href="http://twitter.com/anthyme"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				
				
				
				<li>
					<a href="http://github.com/anthyme"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://burnaftercoding.com/posts/">All Posts</a></li>
				<li><a href="http://burnaftercoding.com/tags/">All Tags</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->



<div class="entry-header">
  
  <div class="entry-image">
    <img src="http://burnaftercoding.com/images/abstract-11.jpg" alt="Draw something with html5">
  </div><!-- /.entry-image -->
</div><!-- /.entry-header -->


<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://burnaftercoding.com/post/draw-something-with-html5/" rel="bookmark" title="Draw something with html5">Draw something with html5</a></h1>
        
        <h2>June 13, 2012</h2>
        
        <p class="entry-reading-time">
          <i class="fa fa-clock-o"></i>
          
          Reading time ~14 minutes
        </p><!-- /.entry-reading-time -->
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>This article presents an implementation of Draw Something in Html5 with the canvas technology.</p>

<h2>Introduction</h2>

<h3>Draw Something ?</h3>

<p>Draw Something is an IPhone/Android application (thank you for Windows Phone users) that allow you to draw an image that must represent a word. Your draw is then sent to a friend and this one have to guess the word by seeing your draw as draw it.</p>

<h3>Why this article ?</h3>

<p>I was thinking about writing an article using the html5 canvas but how can I be original compared with existing articles on canvas.
Draw something is my choice.</p>

<h3>The focus of this article</h3>

<p>In the source code of the application you have a full asp.net MVC application with storage of drawing in an SQL Server database with Entity Framework Code First.
The focus of this article is totally on the client side, on the creation and play of the drawing without social interactions.</p>

<h2>Conception</h2>

<h3>Let&#39;s think about the playability of a drawing</h3>

<p>So how can I create the same user experience? 
I can&#39;t just save a bitmap at the end of the first user save because I want the user seeing the drawing see it with the same experience as he see it in live.
I can&#39;t capture bitmaps at xx fps and create a video because it&#39;s too heavy.
So I will save each path and each point traced by the user with the color, pen size, and time associated in a JSON list of paths.</p>

<h3>Models</h3>

<p>Let&#39;s start with our models. The 2 models are &quot;Path&quot; and &quot;Point&quot;.
A Path is a list of Point with the color/pen size associated.
A Point has coordinates (x,y) and a date.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">global</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">DrawSomething</span> <span class="o">=</span> <span class="nx">global</span><span class="p">.</span><span class="nx">DrawSomething</span> <span class="o">=</span> <span class="nx">global</span><span class="p">.</span><span class="nx">DrawSomething</span> <span class="o">||</span> <span class="p">{};</span>
    <span class="kd">var</span> <span class="nx">Models</span> <span class="o">=</span> <span class="nx">DrawSomething</span><span class="p">.</span><span class="nx">Models</span> <span class="o">=</span> <span class="nx">DrawSomething</span><span class="p">.</span><span class="nx">Models</span> <span class="o">||</span> <span class="p">{};</span>

    <span class="nx">Models</span><span class="p">.</span><span class="nx">Point</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">me</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">me</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
        <span class="nx">me</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
        <span class="nx">me</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>
    <span class="p">};</span>

    <span class="nx">Models</span><span class="p">.</span><span class="nx">Path</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">color</span><span class="p">,</span> <span class="nx">lineWidth</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">me</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">me</span><span class="p">.</span><span class="nx">points</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="nx">me</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">color</span><span class="p">;</span>
        <span class="nx">me</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="nx">lineWidth</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">})(</span><span class="k">this</span><span class="p">)</span>
</code></pre></div>
<p>Each drawing is save on the server side with a Draw model
The Key property is the word associated to the drawing, the Data property is the raw JSON of the drawing.</p>
<div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">Draw</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">Key</span><span class="p">]</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="p">[</span><span class="n">Required</span><span class="p">]</span>
    <span class="p">[</span><span class="nf">StringLength</span><span class="p">(</span><span class="m">30</span><span class="p">)]</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="p">[</span><span class="n">Required</span><span class="p">]</span>
    <span class="p">[</span><span class="nf">StringLength</span><span class="p">(</span><span class="m">30</span><span class="p">)]</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Key</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="n">Data</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2>Draw engine</h2>

<p>The separation of concerns is done by extraction the drawing logic of the views (Create/Details) code.
A DrawEngine object is constructed with a canvas and store color/pen size/pen type and has 2 methods:</p>

<ul>
<li>draw(from, to)
Draw a line between 2 points.</li>
<li>updateParameters()
Apply the colors/pen size/ pen type to the 2d context of the canvas</li>
</ul>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">global</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">DrawSomething</span> <span class="o">=</span> <span class="nx">global</span><span class="p">.</span><span class="nx">DrawSomething</span> <span class="o">=</span> <span class="nx">global</span><span class="p">.</span><span class="nx">DrawSomething</span> <span class="o">||</span> <span class="p">{};</span>

    <span class="nx">DrawSomething</span><span class="p">.</span><span class="nx">DrawEngine</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">canvas</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">me</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">me</span><span class="p">.</span><span class="nx">canvas</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">;</span>
        <span class="nx">me</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">"2d"</span><span class="p">);</span>

        <span class="nx">me</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="s2">"#000000"</span><span class="p">;</span>
        <span class="nx">me</span><span class="p">.</span><span class="nx">lineJoin</span> <span class="o">=</span> <span class="s2">"round"</span><span class="p">;</span>
        <span class="nx">me</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

        <span class="nx">me</span><span class="p">.</span><span class="nx">updateParameters</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">me</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">lineJoin</span> <span class="o">=</span> <span class="nx">me</span><span class="p">.</span><span class="nx">lineJoin</span><span class="p">;</span>
            <span class="nx">me</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="nx">me</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>
            <span class="nx">me</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="nx">me</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">;</span>
        <span class="p">};</span>

        <span class="nx">me</span><span class="p">.</span><span class="nx">draw</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">from</span><span class="p">,</span> <span class="nx">to</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">me</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
            <span class="nx">me</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">from</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">from</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>
            <span class="nx">me</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">to</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">to</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>
            <span class="nx">me</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span>
            <span class="nx">me</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
        <span class="p">};</span>

        <span class="nx">me</span><span class="p">.</span><span class="nx">updateParameters</span><span class="p">();</span>
    <span class="p">};</span>

<span class="p">})(</span><span class="k">this</span><span class="p">)</span>
</code></pre></div>
<h2>Creation of a drawing</h2>

<h3>View</h3>

<p>The view has 4 parts:</p>

<p>A classic asp.net MVC form.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)

    <span class="nt">&lt;fieldset&gt;</span>
        <span class="nt">&lt;legend&gt;</span>Draw<span class="nt">&lt;/legend&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"editor-label"</span><span class="nt">&gt;</span>
            @Html.LabelFor(model =&gt; model.Name)
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"editor-field"</span><span class="nt">&gt;</span>
            @Html.EditorFor(model =&gt; model.Name)
            @Html.ValidationMessageFor(model =&gt; model.Name)
            @Html.HiddenFor(model =&gt; model.Data)
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"editor-label"</span><span class="nt">&gt;</span>
            @Html.LabelFor(model =&gt; model.Key)
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"editor-field"</span><span class="nt">&gt;</span>
            @Html.EditorFor(model =&gt; model.Key)
            @Html.ValidationMessageFor(model =&gt; model.Key)
        <span class="nt">&lt;/div&gt;</span>  
        <span class="nt">&lt;p&gt;</span>
            <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"saveButton"</span><span class="nt">&gt;</span>Save<span class="nt">&lt;/button&gt;</span>
        <span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/fieldset&gt;</span>
}
</code></pre></div>
<p>A color picker.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;table</span> <span class="na">id=</span><span class="s">"colorPicker"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: black"</span><span class="nt">&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: red"</span><span class="nt">&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: green"</span><span class="nt">&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: yellow"</span><span class="nt">&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: blue"</span><span class="nt">&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: white"</span><span class="nt">&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</code></pre></div>
<p>A size picker.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;table</span> <span class="na">id=</span><span class="s">"sizePicker"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;</span>6<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>10<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>16<span class="nt">&lt;/td&gt;</span> 
        <span class="nt">&lt;td&gt;</span>30<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>50<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>100<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</code></pre></div>
<p>And the drawing surface.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"surface"</span> <span class="na">width=</span><span class="s">"400"</span> <span class="na">height=</span><span class="s">"300"</span> <span class="na">style=</span><span class="s">" border: black 2px solid;"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
</code></pre></div>
<h3>JavaScript behind the drawing creation</h3>

<p>Ok now the code of the creation view, you think it&#39;s difficult? No, you are wrong.
It&#39;s really simple in less than 80 lines?</p>

<p>First the imports and members:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">global</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Point</span> <span class="o">=</span> <span class="nx">DrawSomething</span><span class="p">.</span><span class="nx">Models</span><span class="p">.</span><span class="nx">Point</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Path</span> <span class="o">=</span> <span class="nx">DrawSomething</span><span class="p">.</span><span class="nx">Models</span><span class="p">.</span><span class="nx">Path</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">DrawEngine</span> <span class="o">=</span> <span class="nx">DrawSomething</span><span class="p">.</span><span class="nx">DrawEngine</span><span class="p">;</span>


    <span class="kd">var</span> <span class="nx">painting</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">drawEngine</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">paths</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">var</span> <span class="nx">currentPath</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">lastPoint</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

    <span class="c1">//...</span>

<span class="p">})(</span><span class="k">this</span><span class="p">)</span>
</code></pre></div>
<p>The painting boolean is here to indicate if the user is currently drawing.
The paths member is the list of path of the drawing.
The currentPath and lastPoint store the current path the user is drawing and the last point created.</p>

<p>Now let&#39;s see the ready function that initialize the view:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">global</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>

    <span class="c1">//...</span>

    <span class="kd">var</span> <span class="nx">ready</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"surface"</span><span class="p">);</span>
        <span class="nx">drawEngine</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DrawEngine</span><span class="p">(</span><span class="nx">canvas</span><span class="p">);</span>

        <span class="nx">$</span><span class="p">(</span><span class="s2">"#surface"</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">mousemove</span><span class="p">(</span><span class="nx">mouseMove</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">mousedown</span><span class="p">(</span><span class="nx">mouseDown</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">mouseup</span><span class="p">(</span><span class="nx">stopTracking</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">mouseout</span><span class="p">(</span><span class="nx">stopTracking</span><span class="p">);</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">"form"</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="nx">submit</span><span class="p">);</span>

        <span class="nx">$</span><span class="p">(</span><span class="s2">"#colorPicker"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">colorPicked</span><span class="p">);</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">"#sizePicker"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">sizePicked</span><span class="p">);</span>
    <span class="p">};</span>

    <span class="c1">//...</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="nx">ready</span><span class="p">);</span>
<span class="p">})(</span><span class="k">this</span><span class="p">)</span>
</code></pre></div>
<p>It creates the drawEngine, get the mouse events and color/size picker events.</p>

<p>Let&#39;s see mouse events functions:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">mouseDown</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">painting</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

    <span class="nx">currentPath</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Path</span><span class="p">(</span><span class="nx">drawEngine</span><span class="p">.</span><span class="nx">color</span><span class="p">,</span> <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">);</span>
    <span class="nx">lastPoint</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">pageY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">);</span>
    <span class="nx">currentPath</span><span class="p">.</span><span class="nx">points</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">lastPoint</span><span class="p">);</span>
    <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">lastPoint</span><span class="p">,</span> <span class="nx">lastPoint</span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">mouseMove</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">painting</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">point</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">pageY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">date</span> <span class="o">-</span> <span class="nx">lastPoint</span><span class="p">.</span><span class="nx">date</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span>
                <span class="o">||</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">lastPoint</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span>
                <span class="o">||</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">lastPoint</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">lastPoint</span><span class="p">,</span> <span class="nx">point</span><span class="p">);</span>
            <span class="nx">lastPoint</span> <span class="o">=</span> <span class="nx">point</span><span class="p">;</span>
            <span class="nx">currentPath</span><span class="p">.</span><span class="nx">points</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">point</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">stopTracking</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">painting</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">currentPath</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">paths</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">currentPath</span><span class="p">);</span>
        <span class="nx">currentPath</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<p>The only special line is the test on the mouseMove function.
It limits the number of points created (and lines drawn) to movements of more than 3 pixels or movements each 100 ms.</p>

<p>Now let&#39;s see the color/size pickers:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">colorPicked</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"background-color"</span><span class="p">);</span>
    <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">updateParameters</span><span class="p">();</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">sizePicked</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">;</span>
    <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">updateParameters</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></div>
<p>Rather basic but simple.</p>

<p>And finally the submit method that capture the JSON from the paths.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">submit</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#Data"</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">paths</span><span class="p">));</span>
<span class="p">};</span>
</code></pre></div>
<h2>Play of a drawing</h2>

<h3>View</h3>

<p>The view has 4 parts:</p>

<p>A classic details view with hidden fields for JSON data and key.
The canvas is here to play the video and a key input is here to let the user guess the key.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;fieldset&gt;</span>
    <span class="nt">&lt;legend&gt;</span>Draw<span class="nt">&lt;/legend&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"display-label"</span><span class="nt">&gt;</span>Name<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"display-field"</span><span class="nt">&gt;</span>
        @Html.DisplayFor(model =&gt; model.Name)
        @Html.HiddenFor(model =&gt; model.Data)
        @Html.HiddenFor(model =&gt; model.Key)
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"display-label"</span><span class="nt">&gt;</span>Data<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"display-field"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"surface"</span> <span class="na">width=</span><span class="s">"400"</span> <span class="na">height=</span><span class="s">"300"</span> <span class="na">style=</span><span class="s">" border: black 2px solid;"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/canvas&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"display-label"</span><span class="nt">&gt;</span>Key<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"display-field"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"keyInput"</span> <span class="na">type=</span><span class="s">"text"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"validTip"</span><span class="nt">&gt;</span>Well done !<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/fieldset&gt;</span>
</code></pre></div>
<h3>JavaScript behind the drawing play</h3>

<p>Ok now the code of the creation view, you think it&#39;s easy like the creation? In fact a little less than the creation. ;-)
The challenge is to play the drawing at the same speed than the speed of the drawer. In JavaScript, if you do not want to use advanced frameworks you are limited compared to C# for asynchronous tasks. Here I use the setTimeout function, that executes an action xx ms later. You can&#39;t simply loop on all paths and points and draw a line after a &quot;sleep&quot; so you have to work point by point.</p>

<p>The imports and members:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">global</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">DrawEngine</span> <span class="o">=</span> <span class="nx">DrawSomething</span><span class="p">.</span><span class="nx">DrawEngine</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">paths</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">var</span> <span class="nx">pathIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">pointIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">previousPoint</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">key</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">drawEngine</span><span class="p">;</span>

    <span class="c1">//...</span>
<span class="p">})(</span><span class="k">this</span><span class="p">)</span>
</code></pre></div>
<p>The paths member is the list of path of the drawing.
The pathIndex and pointIndex are the indexes of your current path and point of your playing.
The previousPoint reference the point before the current (to draw a line between the previous and the current point)
The key member is the key that the user should guess.</p>

<p>Let&#39;s see the ready function that initializes the view:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">global</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>

    <span class="c1">//...</span>

    <span class="kd">var</span> <span class="nx">ready</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">"#validTip"</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>

        <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"surface"</span><span class="p">);</span>
        <span class="nx">drawEngine</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DrawEngine</span><span class="p">(</span><span class="nx">canvas</span><span class="p">);</span>

        <span class="kd">var</span> <span class="nx">jsonData</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#Data"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">paths</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">jsonData</span><span class="p">);</span>

        <span class="nx">$</span><span class="p">(</span><span class="s2">"#keyInput"</span><span class="p">).</span><span class="nx">keyup</span><span class="p">(</span><span class="nx">keyTyped</span><span class="p">);</span>
        <span class="nx">key</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#Key"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">next</span><span class="p">();</span>
    <span class="p">};</span>

    <span class="c1">//...</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="nx">ready</span><span class="p">);</span>
<span class="p">})(</span><span class="k">this</span><span class="p">)</span>
</code></pre></div>
<p>This function prepares the draw engine, load the json data and bind the keyup event of the box dedicated to the guess.
Finally the &quot;ready&quot; function calls the &quot;next&quot; function that take care of the next point of the drawing.</p>

<p>Let&#39;s see how it works:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">getCurrentPoint</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">paths</span><span class="p">[</span><span class="nx">pathIndex</span><span class="p">].</span><span class="nx">points</span><span class="p">[</span><span class="nx">pointIndex</span><span class="p">];</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">next</span><span class="p">;</span>
<span class="nx">next</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">currentPoint</span> <span class="o">=</span> <span class="nx">getCurrentPoint</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">paths</span><span class="p">[</span><span class="nx">pathIndex</span><span class="p">];</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">pointIndex</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>
        <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">;</span>
        <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">updateParameters</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">drawEngine</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">previousPoint</span><span class="p">,</span> <span class="nx">currentPoint</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">previousPoint</span> <span class="o">=</span> <span class="nx">currentPoint</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">pointIndex</span> <span class="o">==</span> <span class="nx">path</span><span class="p">.</span><span class="nx">points</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">pointIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">pathIndex</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">pointIndex</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">pathIndex</span> <span class="o">!=</span> <span class="nx">paths</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">nextPoint</span> <span class="o">=</span> <span class="nx">getCurrentPoint</span><span class="p">();</span>

        <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">next</span><span class="p">,</span> <span class="nx">nextPoint</span><span class="p">.</span><span class="nx">date</span> <span class="o">-</span> <span class="nx">currentPoint</span><span class="p">.</span><span class="nx">date</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">previousPoint</span> <span class="o">=</span> <span class="nx">currentPoint</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<p>It&#39;s just an iteration on the paths/points with a setTimeout to call the &quot;next&quot; method after the time between the current point and the next point.
Maybe the iteration can be better but I am not a specialist of iterate JavaScript arrays.</p>

<p>Finally the method that validate the input of the user:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">keyTyped</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#keyInput"</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span> <span class="o">==</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">input</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">"#validTip"</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<h2>The result</h2>

<p>A video should be better but at least a screenshot can show you the user experience.</p>

<p><img src="https://dl.dropboxusercontent.com/u/44389563/blog/code/draw-something-with-html5/CanvasDraw.png" alt="Canvas draw something"></p>

<h2>Final words</h2>

<p>Again a lot of optimization are possible:</p>

<ol>
<li>Optimize the test in the mouse move
The current test is just to avoid capturing too many points but it can be more complex to be more efficient with a more precise drawing.</li>
<li>Add an engine that optimize the point list
Create with &quot;captured points&quot; a list of &quot;displayed points&quot; by adding points by interpolation or removing useless points to have an user experience smoother.</li>
<li>Use Bezier curves instead of points
With some nice algorithms (correctly timed) you can transform the points captured to Bezier curves lighter and smoother than the paint approach of the drawing.</li>
</ol>

<p>You can find the source code associated to this article <a href="https://github.com/anthyme/CanvasDraw">here</a></p>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="http://burnaftercoding.com/tags/#Html5" title="Pages tagged Html5" class="tag">Html5</a><a href="http://burnaftercoding.com/tags/#JavaScript" title="Pages tagged JavaScript" class="tag">JavaScript</a></span>
        <span><a href="http://burnaftercoding.com/post/draw-something-with-html5/" rel="bookmark" title="Draw something with html5">Draw something with html5</a> was published on <span class="entry-date date published updated"><time datetime="2012-06-13T18:01:34+02:00">June 13, 2012</time></span></span>
        
        <span class="author vcard"><span class="fn"><a href="http://burnaftercoding.com/about/" title="About Anthyme Caillard">Anthyme Caillard</a></span></span>
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=http://burnaftercoding.com/post/draw-something-with-html5/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=http://burnaftercoding.com/post/draw-something-with-html5/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=http://burnaftercoding.com/post/draw-something-with-html5/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
    <div class="read-more">
  
    <div class="read-more-header">
      <a href="http://burnaftercoding.com/post/real-time-web-development-with-long-polling/" class="read-more-btn">Read More</a>
    </div><!-- /.read-more-header -->
    <div class="read-more-content">
      <h3><a href="http://burnaftercoding.com/post/why-xamarin-strategy-mobile/" title="Pourquoi choisir Xamarin pour votre stratégie mobile">Pourquoi choisir Xamarin pour votre stratégie mobile</a></h3>
      <p>#Pourquoi choisir Xamarin pour votre stratégie mobile##IntroductionLe marché des applications mobiles se développe énormément ces dernièr...&hellip; <a href="http://burnaftercoding.com/post/why-xamarin-strategy-mobile/">Continue reading</a></p>
    </div><!-- /.read-more-content -->
  
  <div class="read-more-list">
    
      <div class="list-item">
        <h4><a href="http://burnaftercoding.com/post/trello-gtd/" title="Organisez votre vie avec Trello et GTD">Organisez votre vie avec Trello et GTD</a></h4>
        <span>Published on March 18, 2015</span>
      </div><!-- /.list-item -->
    
      <div class="list-item">
        <h4><a href="http://burnaftercoding.com/post/software-craftsmanship-coding-dojo-techdays/" title="Software Craftsmanship et Coding Dojo aux Techdays 2015 !">Software Craftsmanship et Coding Dojo aux Techdays 2015 !</a></h4>
        <span>Published on March 07, 2015</span>
      </div><!-- /.list-item -->
    
  </div><!-- /.read-more-list -->
</div><!-- /.read-more -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Anthyme Caillard. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://burnaftercoding.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://burnaftercoding.com/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56800873-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>



    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'burnaftercoding'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
	        

</body>
</html>
