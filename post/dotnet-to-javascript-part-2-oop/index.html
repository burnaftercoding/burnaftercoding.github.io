<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Dotnet to JavaScript part 2 OOP &#8211; Burn after coding</title>
<meta name="description" content="Burn after coding">
<meta name="keywords" content="JavaScript">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://burnaftercoding.com/images/abstract-11.jpg">

<meta name="twitter:title" content="Dotnet to JavaScript part 2 OOP">
<meta name="twitter:description" content="Burn after coding">
<meta name="twitter:creator" content="@anthyme">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Dotnet to JavaScript part 2 OOP">
<meta property="og:description" content="Burn after coding">
<meta property="og:url" content="http://burnaftercoding.com/post/dotnet-to-javascript-part-2-oop/">
<meta property="og:site_name" content="Burn after coding">





<link rel="canonical" href="http://burnaftercoding.com/post/dotnet-to-javascript-part-2-oop/">
<link href="http://burnaftercoding.com/feed.xml" type="application/atom+xml" rel="alternate" title="Burn after coding Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://burnaftercoding.com/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://burnaftercoding.com/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://burnaftercoding.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://burnaftercoding.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://burnaftercoding.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://burnaftercoding.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://burnaftercoding.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://burnaftercoding.com/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://burnaftercoding.com">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://burnaftercoding.com/images/avatar.jpg" alt="Anthyme Caillard photo" class="author-photo">
					<h4>Anthyme Caillard</h4>
					<p>Software craftsman Dotnet addict &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Agile fan</p>
				</li>
				<li><a href="http://burnaftercoding.com/about/">Learn More</a></li>
				
				<li>
					<a href="http://twitter.com/anthyme"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				
				
				
				<li>
					<a href="http://github.com/anthyme"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://burnaftercoding.com/posts/">All Posts</a></li>
				<li><a href="http://burnaftercoding.com/tags/">All Tags</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->



<div class="entry-header">
  
  <div class="entry-image">
    <img src="http://burnaftercoding.com/images/abstract-11.jpg" alt="Dotnet to JavaScript part 2 OOP">
  </div><!-- /.entry-image -->
</div><!-- /.entry-header -->


<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://burnaftercoding.com/post/dotnet-to-javascript-part-2-oop/" rel="bookmark" title="Dotnet to JavaScript part 2 OOP">Dotnet to JavaScript part 2 OOP</a></h1>
        
        <h2>June 06, 2012</h2>
        
        <p class="entry-reading-time">
          <i class="fa fa-clock-o"></i>
          
          Reading time ~10 minutes
        </p><!-- /.entry-reading-time -->
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>This article presents how to implement OOP with JavaScript with the prototype/closure techniques and help you avoid a few traps.</p>

<h2>Introduction</h2>

<p>“JavaScript is an ugly scripting language created for some kind of – sub – developers and that don’t support OOP”, is a summary of what I often heard about JavaScript (or I thought).
So let’s prove this is a mistake.</p>

<h3>Classic OOP</h3>

<p>For “standard developers” (I mean those who use C/C++ derived languages like C# or Java) the OOP imply a few things:</p>

<ul>
<li><strong>class</strong></li>
</ul>

<p>You define classes to define the members and methods of your object.</p>

<ul>
<li><strong>this</strong></li>
</ul>

<p>A way to access the current instance.</p>

<ul>
<li><strong>constructor (new)</strong></li>
</ul>

<p>Your class has a (or multiples) dedicated method to construct your object with the “new” keyword.</p>

<ul>
<li><strong>public/protected/private</strong></li>
</ul>

<p>Members/Methods have different authorization level to access it to separate internal code and external API clearly.</p>

<ul>
<li><strong>inheritance</strong></li>
</ul>

<p>Once a class is defined you can inherit from this one to create a new one with more functionalities.</p>

<ul>
<li><strong>interface</strong></li>
</ul>

<p>You can define only signatures that your class can implement.
    In fact JavaScript support almost nothing of these functionalities … Let’s see what it can do.</p>

<p>In fact JavaScript support almost nothing of these functionalities ... Let&#39;s see what it can do.</p>

<h3>JavaScript OOP ?</h3>

<p>In JavaScript there are only a few keywords &quot;about OOP&quot;:</p>

<ul>
<li><strong>new</strong></li>
</ul>

<p>A keyword to create new object, sometime optional.</p>

<ul>
<li><strong>this</strong></li>
</ul>

<p>A keyword that contains the execution context (sometime not your instance)</p>

<ul>
<li><strong>instanceof</strong></li>
</ul>

<p>A way to know if an object is an instance of an &quot;object type&quot;.</p>

<p>And ... nothing more in the keywords or structure of your code!
Fortunately you have also a &quot;prototype model&quot; API to create some kind of &quot;class&quot;.</p>

<p>In fact - and more than the legacy languages - in JavaScript everything is an object or more precisely &quot;a box where you can put everything you want in&quot; (except number, string, boolean and undefined).
The prototype approach of JavaScript is the standard way to model your object it offer a few capacities listed before and a few more. 
It seems a little poor but it is just a different paradigm than the classical C++ way.
I say &quot;standard way&quot; because there is another - modern/custom - solution named &quot;closure&quot; made possible by the flexibility of JavaScript.</p>

<p>Let&#39;s start by the prototype way.</p>

<h2>Prototype Oriented Programming</h2>

<h3>Functionalities</h3>

<p>Prototype programming offer these &quot;OOP&quot; functionalities:</p>

<ul>
<li>Constructor</li>
<li>Instance methods/members</li>
<li>Static methods/members</li>
<li>Inheritance</li>
<li>An internal access to the instance</li>
</ul>

<p>But no support to:</p>

<ul>
<li>Interface</li>
<li>Private methods/members (in fact it&#39;s possible but not easy and readable)</li>
</ul>

<p>Ok it&#39;s pretty basic but sufficient, there is also a nice thing with prototype: 
You can enhance a prototype everywhere in your code.
The existing objects of this prototype will benefit of these new methods automatically.
And you can add or change functionality on standard objects (like adding method on Array for example) and allow really easy meta programing.</p>

<h3>Sample</h3>

<p>Now let see how to create a prototype:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">privateMember</span> <span class="o">=</span> <span class="s2">"hidden"</span><span class="p">;</span><span class="c1">//useless</span>
<span class="p">};</span>
<span class="nx">MyClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">publicMethod</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">"hello from object"</span><span class="p">;</span> <span class="p">};</span>
<span class="nx">MyClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">publicMember</span> <span class="o">=</span> <span class="s2">"public"</span><span class="p">;</span>
<span class="nx">MyClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getMember</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">privateMember</span><span class="p">;</span> <span class="p">};</span>

<span class="nx">MyClass</span><span class="p">.</span><span class="nx">staticMethod</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">"hello from class"</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">myClass</span><span class="p">();</span>

<span class="nx">MyClass</span><span class="p">.</span><span class="nx">staticMethod</span><span class="p">();</span> <span class="c1">//return "hello from class"</span>
<span class="nx">myClass</span><span class="p">.</span><span class="nx">publicMethod</span><span class="p">();</span> <span class="c1">//error</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">staticMethod</span><span class="p">();</span> <span class="c1">//error</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">publicMethod</span><span class="p">();</span> <span class="c1">//return "hello from object"</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">privateMember</span><span class="p">;</span> <span class="c1">//undefined</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">publicMember</span><span class="p">;</span> <span class="c1">//return "public"</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">getMember</span><span class="p">();</span> <span class="c1">//undefined</span>
<span class="nx">myObject</span> <span class="k">instanceof</span> <span class="nx">myClass</span><span class="p">;</span> <span class="c1">// return true</span>
</code></pre></div>
<p>The first function is the “constructor” and each other assigned to the MyClass.prototype are public methods/members.
Functions assigned to MyClass directly are static methods.
Private members simply do not work.</p>

<p>Ok, now we can see how it works but if it is flexible it is not really structured.
We can improve a little like this:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">myClass</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="na">publicMethod</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">"hello from object"</span><span class="p">;</span> <span class="p">},</span>
        <span class="na">publicMember</span><span class="p">:</span> <span class="s2">"public"</span><span class="p">,</span>
        <span class="na">getMember</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">privateMember</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">};</span>
</code></pre></div>
<p>But in this case you do not enhance a possible existing prototype but replace it.</p>

<h3>Inheritance</h3>

<p>So how the inheritance work? Let&#39;s see a sample with our previous MyClass:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MySubClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span> <span class="c1">//sub constructor</span>
<span class="nx">MySubClass</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">();</span>
<span class="nx">MySubClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">MySubClass</span><span class="p">;</span>
<span class="nx">MySubClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">subMethod</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">"hello from sub object"</span><span class="p">;</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">mySubObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mySubClass</span><span class="p">();</span>

<span class="nx">mySubObject</span><span class="p">.</span><span class="nx">publicMethod</span><span class="p">();</span> <span class="c1">//"hello from object"</span>
<span class="nx">mySubObject</span><span class="p">.</span><span class="nx">subMethod</span><span class="p">();</span> <span class="c1">//"hello from object"</span>
<span class="nx">mySubObject</span> <span class="k">instanceof</span> <span class="nx">mySubClass</span><span class="p">;</span> <span class="c1">//true</span>
<span class="nx">mySubObject</span> <span class="k">instanceof</span> <span class="nx">MyClass</span><span class="p">;</span> <span class="c1">//true</span>
</code></pre></div>
<p>Ok so prototype is not really readable (&quot;clean&quot;) but do the work.
Before seeing the &quot;closure&quot; way I have one more important thing to say ...</p>

<h3>Take care of &quot;this&quot;</h3>

<p>The “this” keyword is not the same of the C# one. In fact “this” contains the “execution context”.
For example this code will fail:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">MyClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">alertLaterMember</span> <span class="o">=</span>
    <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">publicMember</span><span class="p">);</span> <span class="p">},</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">};</span>
</code></pre></div>
<p>If you call the “alertLaterMember” on an object created with MyClass the “this” keyword will not contain your instance but the context that call your function so the result will be an alert with “undefined”. In this case “this” should be “window”, I’m not sure, and you certainly won’t be sure when you are using “this”, so avoid it.</p>

<p>The solution is to create a copy of this stored in a local variable.
You can call it “self” (like in python), “that”, “me” … Personally I prefer “me”, it’s simple, light and readable.</p>

<p>The solution for this case is:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">MyClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">alertLaterMember</span> <span class="o">=</span>
    <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">me</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">alert</span><span class="p">(</span><span class="nx">me</span><span class="p">.</span><span class="nx">privateMember</span><span class="p">);</span> <span class="p">},</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">};</span>
</code></pre></div>
<p>Now let&#39;s see the closure approach.</p>

<h2>Closure</h2>

<h3>Functionalities</h3>

<p>Prototype programming offer these &quot;OOP&quot; functionalities:</p>

<ul>
<li>Constructor</li>
<li>Instance methods/members</li>
<li>Static methods/members</li>
<li>Private methods/members</li>
<li>Structured declaration</li>
<li>An internal access to the instance</li>
</ul>

<p>But no support to:</p>

<ul>
<li>Interface</li>
<li>Inheritance (possible with a hack)</li>
</ul>

<p>The closure pattern is some kind of &quot;trick&quot; that allow more but you will see that it is more readable.</p>

<h3>Sample</h3>

<p>Now let see how to create a closure class:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MyClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">privateMember</span> <span class="o">=</span> <span class="s2">"hidden"</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">publicMethod</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">"hello from object"</span><span class="p">;</span> <span class="p">};</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">publicMember</span> <span class="o">=</span> <span class="s2">"public"</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">getMember</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">privateMember</span><span class="p">;</span> <span class="p">};</span>
<span class="p">};</span>

<span class="nx">MyClass</span><span class="p">.</span><span class="nx">staticMethod</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">"hello from class"</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">();</span>

<span class="nx">MyClass</span><span class="p">.</span><span class="nx">staticMethod</span><span class="p">();</span> <span class="c1">//return "hello from class"</span>
<span class="nx">MyClass</span><span class="p">.</span><span class="nx">publicMethod</span><span class="p">();</span> <span class="c1">//error</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">staticMethod</span><span class="p">();</span> <span class="c1">//error</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">publicMethod</span><span class="p">();</span> <span class="c1">//return "hello from object"</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">privateMember</span><span class="p">;</span> <span class="c1">//undefined</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">publicMember</span><span class="p">;</span> <span class="c1">//return "public"</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">getMember</span><span class="p">();</span> <span class="c1">//return "hidden"</span>
<span class="nx">myObject</span> <span class="k">instanceof</span> <span class="nx">MyClass</span><span class="p">;</span> <span class="c1">// return true</span>
</code></pre></div>
<p>This time everything happen in the constructor function and you can access to private variables or methods because the instance methods are define in the constructor. </p>

<p>There is another way to write used by some developers:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MyClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">privateMember</span> <span class="o">=</span> <span class="s2">"hidden"</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="na">publicMethod</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">"hello from object"</span><span class="p">;</span> <span class="p">},</span>
        <span class="na">publicMember</span><span class="p">:</span> <span class="s2">"public"</span><span class="p">,</span>
        <span class="na">getMember</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">privateMember</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>

<span class="nx">MyClass</span><span class="p">.</span><span class="nx">staticMethod</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">"hello from class"</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">();</span>

<span class="nx">MyClass</span><span class="p">.</span><span class="nx">staticMethod</span><span class="p">();</span> <span class="c1">//return "hello from class"</span>
<span class="nx">MyClass</span><span class="p">.</span><span class="nx">publicMethod</span><span class="p">();</span> <span class="c1">//error</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">staticMethod</span><span class="p">();</span> <span class="c1">//error</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">publicMethod</span><span class="p">();</span> <span class="c1">//return "hello from object"</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">privateMember</span><span class="p">;</span> <span class="c1">//undefined</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">publicMember</span><span class="p">;</span> <span class="c1">//return "public"</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">getMember</span><span class="p">();</span> <span class="c1">//return "hidden"</span>
<span class="nx">myObject</span> <span class="k">instanceof</span> <span class="nx">MyClass</span><span class="p">;</span> <span class="c1">// return false</span>
</code></pre></div>
<p>It creates an anonymous object that contains the public methods/members. Personally I do not like it because it lose the instanceof functionality.</p>

<h3>Inheritance</h3>

<p>So how the inheritance is possible in closure? There are a lot of possibilities, the simplest is this one:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MySubClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">me</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">();</span>

    <span class="nx">me</span><span class="p">.</span><span class="nx">subMethod</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">"hello from sub object"</span><span class="p">;</span> <span class="p">};</span>

    <span class="k">return</span> <span class="nx">me</span><span class="p">;</span>
<span class="p">};</span>   <span class="c1">//sub constructor</span>

<span class="kd">var</span> <span class="nx">mySubObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MySubClass</span><span class="p">();</span>

<span class="nx">mySubObject</span><span class="p">.</span><span class="nx">publicMethod</span><span class="p">();</span> <span class="c1">//"hello from object"</span>
<span class="nx">mySubObject</span><span class="p">.</span><span class="nx">subMethod</span><span class="p">();</span> <span class="c1">//"hello from object"</span>
<span class="nx">mySubObject</span> <span class="k">instanceof</span> <span class="nx">MySubClass</span><span class="p">;</span> <span class="c1">//false</span>
<span class="nx">mySubObject</span> <span class="k">instanceof</span> <span class="nx">MyClass</span><span class="p">;</span> <span class="c1">//true</span>
</code></pre></div>
<p>In fact you are creating an object from the main class and adding functionality on it but the problem is that it&#39;s not typed on your sub class but only on your root class.</p>

<h3>&quot;this&quot; again</h3>

<p>The &quot;this&quot; keyword is still a problem with the same solution but this time you can declare your instance shortcut once at the beginning of the constructor.
It can be written like this:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MyClass</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">me</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">privateMember</span> <span class="o">=</span> <span class="s2">"hidden"</span><span class="p">;</span>

    <span class="nx">me</span><span class="p">.</span><span class="nx">publicMethod</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">"hello from object"</span><span class="p">;</span> <span class="p">};</span>
    <span class="nx">me</span><span class="p">.</span><span class="nx">publicMember</span> <span class="o">=</span> <span class="s2">"public"</span><span class="p">;</span>
    <span class="nx">me</span><span class="p">.</span><span class="nx">getMember</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">privateMember</span><span class="p">;</span> <span class="p">};</span>
<span class="p">};</span>
</code></pre></div>
<h2>Final words</h2>

<p>It is a choice you have to do before starting your project you can imagine these scenarios.</p>

<p><strong>prototype only</strong></p>

<p>Less readability but more extensibility and more performance because instance methods/member are defined once.
You can choose this way if you </p>

<p><strong>closure only</strong></p>

<p>Good choice for a majority of projects (like LOB applications) because it&#39;s more readable and maintainability. This choice is often made in B2B &quot;simple&quot; software.</p>

<p><strong>mixed</strong></p>

<p>Maybe your application has big performance requirements in some cases but because of it is a big application you want the most readability/maintainability possible so in this case you can make the choice to mix the both approach and use prototype on your sensible objects.</p>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="http://burnaftercoding.com/tags/#JavaScript" title="Pages tagged JavaScript" class="tag">JavaScript</a></span>
        <span><a href="http://burnaftercoding.com/post/dotnet-to-javascript-part-2-oop/" rel="bookmark" title="Dotnet to JavaScript part 2 OOP">Dotnet to JavaScript part 2 OOP</a> was published on <span class="entry-date date published updated"><time datetime="2012-06-06T21:18:44+02:00">June 06, 2012</time></span></span>
        
        <span class="author vcard"><span class="fn"><a href="http://burnaftercoding.com/about/" title="About Anthyme Caillard">Anthyme Caillard</a></span></span>
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=http://burnaftercoding.com/post/dotnet-to-javascript-part-2-oop/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=http://burnaftercoding.com/post/dotnet-to-javascript-part-2-oop/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=http://burnaftercoding.com/post/dotnet-to-javascript-part-2-oop/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
    <div class="read-more">
  
    <div class="read-more-header">
      <a href="http://burnaftercoding.com/post/dotnet-to-javascript-part-1-namespaces/" class="read-more-btn">Read More</a>
    </div><!-- /.read-more-header -->
    <div class="read-more-content">
      <h3><a href="http://burnaftercoding.com/post/trello-gtd/" title="Organisez votre vie avec Trello et GTD">Organisez votre vie avec Trello et GTD</a></h3>
      <p>#Organisez votre vie avec Trello et GTD Un retour d'expérience sur mon usage de méthodologies agiles dans ma vie personnel avec notamment...&hellip; <a href="http://burnaftercoding.com/post/trello-gtd/">Continue reading</a></p>
    </div><!-- /.read-more-content -->
  
  <div class="read-more-list">
    
      <div class="list-item">
        <h4><a href="http://burnaftercoding.com/post/software-craftsmanship-coding-dojo-techdays/" title="Software Craftsmanship et Coding Dojo aux Techdays 2015 !">Software Craftsmanship et Coding Dojo aux Techdays 2015 !</a></h4>
        <span>Published on March 07, 2015</span>
      </div><!-- /.list-item -->
    
      <div class="list-item">
        <h4><a href="http://burnaftercoding.com/post/smart-busy-indicator/" title="Smart busy indicator">Smart busy indicator</a></h4>
        <span>Published on February 04, 2015</span>
      </div><!-- /.list-item -->
    
  </div><!-- /.read-more-list -->
</div><!-- /.read-more -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Anthyme Caillard. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://burnaftercoding.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://burnaftercoding.com/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56800873-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>



    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'burnaftercoding'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
	        

</body>
</html>
